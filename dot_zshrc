##### Homebrew (load early so binaries exist)
if [ -x /home/linuxbrew/.linuxbrew/bin/brew ]; then
  eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

##### Oh My Zsh
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME=""   # Disable theme — we define PROMPT ourselves

plugins=(
  git
  kubectl
  kube-ps1
)

source $ZSH/oh-my-zsh.sh

##### kube-ps1 configuration
KUBE_PS1_ENABLE=true
KUBE_PS1_SYMBOL_ENABLE=true
KUBE_PS1_SYMBOL="☸︎ "
KUBE_PS1_CTX_SHORT=false
KUBE_PS1_NS_ENABLE=true
KUBE_PS1_PREFIX=""
KUBE_PS1_SUFFIX=""
KUBE_PS1_SEPARATOR=" "

# Optional but recommended
KUBE_PS1_PRELOAD=true

##### Prompt (two-line, left aligned)
setopt PROMPT_SUBST

precmd() {
	print
}

PROMPT='%F{white}%m %f$(kube_ps1)%F{blue}%~%f
%F{242}%*%f %F{white}» %f'

##### kubectx helper (keep this!)
function tl() {
  command kubectx "$@"
}

##### Quality-of-life defaults
setopt AUTO_CD
setopt INTERACTIVE_COMMENTS
setopt HIST_IGNORE_DUPS
setopt SHARE_HISTORY

HISTSIZE=10000
SAVEHIST=10000
HISTFILE=~/.zsh_history

